% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/kractor.R
\name{kractor_reads}
\alias{kractor_reads}
\title{Extract Reads from Kraken2 Output Based on Classification}
\usage{
kractor_reads(
  koutput,
  reads,
  ofile1 = NULL,
  ofile2 = NULL,
  batch_size = NULL,
  chunk_bytes = NULL,
  compression_level = 4L,
  nqueue = NULL,
  threads = NULL,
  odir = NULL
)
}
\arguments{
\item{koutput}{Path to the Kraken2 output file.}

\item{reads}{A character vector of FASTQ file paths. Accepts one file for
single-end or two files for paired-end.}

\item{ofile1}{Output FASTQ file path for the first read (\code{fq1}). Required
when only one input file is given (i.e., single-end mode). Optional when two
input files are used.}

\item{ofile2}{Optional path to the output FASTQ file for \code{fq2}.}

\item{batch_size}{Integer. Number of FASTQ records to accumulate before
dispatching a chunk to worker threads for processing. This controls the
granularity of parallel work and affects memory usage and performance.
Default is \code{256}.}

\item{chunk_bytes}{Integer specifying the size in bytes used for compressing
and writing records in batches to disk. Default is \code{8 * 1024 * 1024}
(8MB).}

\item{compression_level}{Integer from 1 to 12 (default: \code{4}). This sets the
gzip compression level when writing output files. A higher value increases
compression ratio but may slow down writing. Only applies when output
filenames end with \code{.gz}.}

\item{nqueue}{Integer. Maximum number of buffers per thread, controlling the
amount of in-flight data awaiting writing. Default: \code{3}. Setting this too
high may increase memory consumption without performance gain.}

\item{threads}{Integer. Number of threads to use. Default: \code{3}.}

\item{odir}{A string of directory to save the output files. Please see
\code{Value} section for details.}
}
\description{
This function extracts reads corresponding to selected classifications from a
Kraken2 output file (\code{koutput}). Only reads classified to selected taxa will
be extracted from the provided sequence file (\code{reads}).
}
